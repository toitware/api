syntax = "proto3";

package toit.api;

import "toit/model/organization.proto";

option go_package = "github.com/toitware/api.git/toit/api";
option java_package = "io.toit.proto.toit.api";
option java_outer_classname = "OrgProto";

service OrganizationService {
  rpc SetDefaultSDK(SetDefaultSDKRequest) returns (SetDefaultSDKResponse) {} 
  rpc GetDefaultSDK(GetDefaultSDKRequest) returns (GetDefaultSDKResponse) {} 
  rpc ListUsersInOrg(ListUsersInOrgRequest) returns (ListUsersInOrgResponse) {}
  rpc AddUser(AddUserRequest) returns (AddUserResponse) {}
  rpc DeleteUser(DeleteUserRequest) returns (DeleteUserResponse) {}
}

message SetDefaultSDKRequest { string name = 1; } 

message SetDefaultSDKResponse {}  

message GetDefaultSDKRequest {} 

message GetDefaultSDKResponse { string name = 1; } 

message ListUsersInOrgRequest {
  bytes offset = 1;
  int64 limit = 2;
  string order_by = 3;
  bool order_desc = 4;
}

message ListUsersInOrgResponse {
  repeated model.User users = 1;
  bytes offset = 2;
}

message AddUserRequest { string email = 1; }

message AddUserResponse { model.User user = 1; }

message DeleteUserRequest { string email = 1; }

message DeleteUserResponse {}

